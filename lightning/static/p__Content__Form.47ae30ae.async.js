(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"y+eM":function(t,e,n){"use strict";n.r(e);var r,i,c=n("dLrW"),a=n.n(c),o=n("cjXc"),u=n.n(o),l=n("3m6/"),s=n.n(l),d=n("CIpT"),f=n.n(d),p=n("QetK"),h=n.n(p),m=n("qE61"),v=n.n(m),y=n("s98/"),F=n.n(y),R=n("CxVk"),k=n.n(R),g=n("4CRv"),b=n.n(g),E=n("OaWn"),w=n.n(E),C=n("zQXf"),j=n("zHco"),O=n("xNPh"),x=n("8hbc"),D=n("wOmh"),P=n("C2ml");function U(t){var e=z();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}function z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var W,q=(r=Object(C["connect"])(function(t){var e=t.content,n=e.schemas,r=e.data,i=t.user.currentUser;return{schemas:n,currentUser:i,data:r}}),F()(i=r(i=function(t){s()(n,t);var e=U(n);function n(){return a()(this,n),e.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var t,e,n,r=this,i=this.props,c=i.match.params,a=c.id,o=c.pId,u=i.location.query.redirect_path,l=i.schemas,s=i.data,d=this.permissions,f=this.model;if(!d)return null;var p=0!==a&&a,h=l[f]||{},m=p?"\u7f16\u8f91":"\u65b0\u5efa",y=p&&h.titleField&&(null===s||void 0===s?void 0:null===(t=s[f])||void 0===t?void 0:null===(e=t.detail)||void 0===e?void 0:null===(n=e[a])||void 0===n?void 0:n[h.titleField]),F="".concat(m).concat(h.displayName||""),R=Object(O["a"])(f),g=this.pField&&{hiddenFields:b()({},this.pField.refField,o),hiddenvalues:b()({},this.pField.refField,o)},E=function(t){return r.pField?w.a.goBack():w.a.push(u?u.replace("{id}",Object(x["z"])(t,f)):"/content/".concat(f))};return v.a.createElement(j["a"],{title:y||F},v.a.createElement(P["a"],null,y?"".concat(y," - "):"",F),p&&d.includes("change")||!p&&d.includes("add")?v.a.createElement(R,k()({onCreate:E,onUpdate:E,model:f,objectid:a},g)):v.a.createElement(D["default"],null))}},{key:"pField",get:function(){var t,e=this.props,n=e.match.params,r=n.pModel,i=n.ref,c=e.schemas;return r&&(null===(t=c[r])||void 0===t?void 0:t.fields.find(function(t){return t.name===i}))}},{key:"model",get:function(){var t,e,n=this.props.match.params.model;return null!==(t=null===(e=this.pField)||void 0===e?void 0:e.ref)&&void 0!==t?t:n}},{key:"permissions",get:function(){var t=this.props.currentUser.permissions,e=this.model;return t?t.filter(function(t){return t.endsWith(e)}).map(function(t){return t.split("_")[0]}):null}}]),n}(m["PureComponent"]))||i)||i),I=q,J=n("7gdK");function K(t){var e=M();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var N=F()(W=function(t){s()(n,t);var e=K(n);function n(){return a()(this,n),e.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var t=this.props.match.params.model;return v.a.createElement(v.a.Fragment,null,v.a.createElement(I,this.props),v.a.createElement(J["a"],{key:t,model:t,defaultTab:"form"}))}}]),n}(m["Component"]))||W,Q=N;n.d(e,"default",function(){return Q})}}]);