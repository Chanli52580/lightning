(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[49],{IAhd:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var r={"app.exception.back":"\u8fd4\u56de\u9996\u9875","app.exception.description.403":"\u62b1\u6b49\uff0c\u4f60\u65e0\u6743\u8bbf\u95ee\u6b64\u9875\u9762","app.exception.description.404":"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728","app.login.userName":"\u7528\u6237\u540d","app.login.email":"\u90ae\u7bb1","app.login.password":"\u5bc6\u7801","app.login.message-invalid-credentials":"\u8d26\u6237\u6216\u5bc6\u7801\u9519\u8bef","app.login.sign-in-with":"\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f","app.login.login":"\u767b\u5f55","app.login.verification-code-warning":"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001","app.login.verification-code-err":"\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5","app.login.err":"\u9047\u5230\u9519\u8bef","app.login.confirm.password":"\u786e\u8ba4\u5bc6\u7801","app.register-result.msg":"\u6ce8\u518c\u6210\u529f","app.register.register":"\u6ce8\u518c","app.register.get-verification-code":"\u83b7\u53d6\u9a8c\u8bc1\u7801","app.register.sign-in":"\u4f7f\u7528\u5df2\u6709\u8d26\u6237\u767b\u5f55","validation.userName.required":"\u8bf7\u8f93\u5165\u7528\u6237\u540d!","validation.email.required":"\u8bf7\u8f93\u5165\u90ae\u7bb1\u540d!","validation.emailType.required":"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u540d!","validation.password.required":"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01","validation.password.strength.strong":"\u5f3a\u5ea6\uff1a\u9ad8","validation.password.strength.medium":"\u5f3a\u5ea6\uff1a\u4e2d","validation.password.strength.short":"\u5f3a\u5ea6\uff1a\u592a\u77ed","validation.password.twice":"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u5339\u914d!","validation.password.strength.msg":"\u8bf7\u81f3\u5c11\u8f93\u5165 6 \u4e2a\u5b57\u7b26\u3002\u8bf7\u4e0d\u8981\u4f7f\u7528\u5bb9\u6613\u88ab\u731c\u5230\u7684\u5bc6\u7801\u3002","validation.phone-number.required":"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01","validation.phone-number.wrong-format":"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef\uff01","validation.confirm-password.required":"\u8bf7\u786e\u8ba4\u5bc6\u7801\uff01","validation.verification-code.required":"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01","menu.account.webSettings":"\u7cfb\u7edf\u8bbe\u7f6e","menu.account.logout":"\u9000\u51fa\u767b\u5f55","menu.about":"\u5173\u4e8e","form.password.placeholder":"\u81f3\u5c116\u4f4d\u5bc6\u7801\uff0c\u533a\u5206\u5927\u5c0f\u5199","form.confirm-password.placeholder":"\u786e\u8ba4\u5bc6\u7801","form.phone-number.placeholder":"\u624b\u673a\u53f7","form.verification-code.placeholder":"\u9a8c\u8bc1\u7801","form.get-captcha":"\u83b7\u53d6\u9a8c\u8bc1\u7801","form.captcha.second":"\u79d2"},i=r,n=function(e){var a,t=e.id,r=e.defaultMessage;return null!==(a=i[t])&&void 0!==a?a:r}},pENj:function(e,a,t){e.exports={main:"main___1LH2Q",getCaptcha:"getCaptcha___1yeL2",submit:"submit___21xow",login:"login___3F_RX",success:"success___Themu",warning:"warning___MmqTw",error:"error___1NMIR","progress-pass":"progress-pass___3a7Oh",progress:"progress___2iEVg"}},uNUk:function(e,a,t){"use strict";t.r(a),function(e){t("e+1C");var r,i,n,o=t("Nd5c"),s=(t("eNCU"),t("pjJH")),l=(t("ER8q"),t("Ai5L")),c=(t("Q9mQ"),t("diRs")),p=(t("XmnF"),t("kCqd")),d=(t("52nx"),t("7bDm")),u=t("9og8"),m=t("fWQN"),g=t("mtLc"),v=t("yKVA"),f=t("879j"),b=(t("Znn+"),t("ZTPi")),h=(t("4X2C"),t("xvon")),w=(t("yavW"),t("WuMn")),y=(t("vmZS"),t("NjVP")),j=t("WmNS"),O=t.n(j),E=t("q1tI"),_=t.n(E),x=t("55Ip"),k=t("/MKj"),q=t("mmaM"),N=t("RLxJ"),S=t("IAhd"),C=t("pENj"),P=t.n(C),F=y["a"].Item,T=w["a"].Option,I=h["a"].Group,V=b["a"].TabPane,D=[{title:"\u624b\u673a\u6ce8\u518c",type:"mobile",values:["mobile","password","code"]},{title:"\u90ae\u7bb1\u6ce8\u518c",type:"email",values:["email","password","code"]},{title:"\u8d26\u53f7\u6ce8\u518c",type:"account",values:["username","password"]}],R={ok:_.a.createElement("div",{className:P.a.success},Object(S["a"])({id:"validation.password.strength.strong"})),pass:_.a.createElement("div",{className:P.a.warning},Object(S["a"])({id:"validation.password.strength.medium"})),poor:_.a.createElement("div",{className:P.a.error},Object(S["a"])({id:"validation.password.strength.short"}))},z={ok:"success",pass:"normal",poor:"exception"},L=(r=y["a"].create(),i=e.flow(y["a"].create(),Object(k["c"])((function(e){var a=e.bsmSetting,t=a.registration_account,r=a.registration_mobile,i=a.registration_email;return{openRegisterTypes:[{type:"mobile",isOpen:r},{type:"email",isOpen:i},{type:"account",isOpen:t}].filter((function(e){return e.isOpen})).map((function(e){return D.find((function(a){return a.type===e.type}))}))}}))),r(n=i(n=function(e){Object(v["a"])(t,e);var a=Object(f["a"])(t);function t(){var e;Object(m["a"])(this,t);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return e=a.call.apply(a,[this].concat(i)),e.state={count:0,confirmDirty:!1,visible:!1,help:"",prefix:"86"},e.onGetCaptcha=function(){var a=Object(u["a"])(O.a.mark((function a(t){var r,i,n,o,s,l,c;return O.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.props.form,i=r.getFieldValue(t),n=59,e.setState({count:n}),e.interval=setInterval((function(){n-=1,e.setState({count:n}),0===n&&clearInterval(e.interval)}),1e3),o={email:q["emailVerify"],mobile:q["verify"]},!i){a.next=18;break}return a.next=9,o[t](i);case 9:if(s=a.sent,l=s.error_code,c=s.error_message,"0"===l){a.next=15;break}return d["a"].info({title:c}),a.abrupt("return");case 15:d["a"].info({title:Object(S["a"])({id:"app.login.verification-code-warning"})}),a.next=19;break;case 18:d["a"].info({title:Object(S["a"])({id:"app.login.verification-code-err"})});case 19:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.getPasswordStatus=function(){var a=e.props.form,t=a.getFieldValue("password");return t&&t.length>9?"ok":t&&t.length>5?"pass":"poor"},e.handleSubmit=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile";a.preventDefault();var r=e.props.form,i=r.getFieldsValue(D.find((function(e){return e.type===t})).values);i.type=t,r.validateFields({force:!0},function(){var e=Object(u["a"])(O.a.mark((function e(a){var t,r;return O.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=12;break}if(!i){e.next=10;break}return e.next=4,Object(q["register"])(i);case 4:t=e.sent,r=Object(S["a"])({id:"app.register-result.msg"}),"0"!==t.error_code&&(r=t.error_message),console.error(t),d["a"].info({title:r}),"0"===t.error_code&&N["a"].push("/user/login");case 10:e.next=13;break;case 12:d["a"].info({title:Object(S["a"])({id:"app.login.err"})});case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},e.handleConfirmBlur=function(a){var t=a.target.value,r=e.state.confirmDirty;e.setState({confirmDirty:r||!!t})},e.checkConfirm=function(a,t,r){var i=e.props.form;t&&t!==i.getFieldValue("password")?r(Object(S["a"])({id:"validation.password.twice"})):r()},e.checkPassword=function(a,t,r){var i=e.state,n=i.visible,o=i.confirmDirty;if(t)if(e.setState({help:""}),n||e.setState({visible:!!t}),t.length<6)r("error");else{var s=e.props.form;t&&o&&s.validateFields(["confirm"],{force:!0}),r()}else e.setState({help:Object(S["a"])({id:"validation.password.required"}),visible:!!t}),r("error")},e.changePrefix=function(a){e.setState({prefix:a})},e.renderPasswordProgress=function(){var a=e.props.form,t=a.getFieldValue("password"),r=e.getPasswordStatus();return t&&t.length?_.a.createElement("div",{className:P.a["progress-".concat(r)]},_.a.createElement(p["a"],{status:z[r],className:P.a.progress,strokeWidth:6,percent:10*t.length>100?100:10*t.length,showInfo:!1})):null},e}return Object(g["a"])(t,[{key:"render",value:function(){var e,a,t=this,r=this.props,i=r.form,n=r.submitting,p=r.openRegisterTypes,d=i.getFieldDecorator,u=null===(e=p[0])||void 0===e?void 0:e.type,m=this.state,g=m.count,v=m.prefix,f=m.help,j=m.visible,O=m.activeKey,E=void 0===O?u:O,k=function(e){return _.a.createElement(y["a"],{onSubmit:function(a){return t.handleSubmit(a,e)}},"account"===e&&_.a.createElement(F,{label:Object(S["a"])({id:"app.login.userName"})},d("username",{rules:[{required:!0,message:Object(S["a"])({id:"validation.userName.required"})}]})(_.a.createElement(h["a"],{placeholder:Object(S["a"])({id:"validation.userName.required"})}))),"email"===e&&_.a.createElement(F,{label:Object(S["a"])({id:"app.login.email"})},d("email",{rules:[{required:!0,message:Object(S["a"])({id:"validation.email.required"})},{type:"email",message:Object(S["a"])({id:"validation.emailType.required"})}]})(_.a.createElement(h["a"],{type:"email",placeholder:Object(S["a"])({id:"validation.email.required"})}))),"mobile"===e&&_.a.createElement(F,null,_.a.createElement(I,{compact:!0},_.a.createElement(w["a"],{size:"large",value:v,onChange:t.changePrefix,style:{width:"20%"}},_.a.createElement(T,{value:"86"},"+86"),_.a.createElement(T,{value:"87"},"+87")),d("mobile",{rules:[{required:!0,message:Object(S["a"])({id:"validation.phone-number.required"})},{pattern:/^\d{11}$/,message:Object(S["a"])({id:"validation.phone-number.wrong-format"})}]})(_.a.createElement(h["a"],{size:"large",style:{width:"80%"},placeholder:Object(S["a"])({id:"form.phone-number.placeholder"})})))),_.a.createElement(F,{help:f,label:Object(S["a"])({id:"app.login.password"})},_.a.createElement(c["a"],{content:_.a.createElement("div",{style:{padding:"4px 0"}},R[t.getPasswordStatus()],t.renderPasswordProgress(),_.a.createElement("div",{style:{marginTop:10}},Object(S["a"])({id:"validation.password.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:j},d("password",{rules:[{validator:t.checkPassword}]})(_.a.createElement(h["a"],{size:"large",type:"password",placeholder:Object(S["a"])({id:"form.password.placeholder"})})))),_.a.createElement(F,{label:Object(S["a"])({id:"app.login.confirm.password"})},d("confirm",{rules:[{required:!0,message:Object(S["a"])({id:"validation.confirm-password.required"})},{validator:t.checkConfirm}]})(_.a.createElement(h["a"],{size:"large",type:"password",placeholder:Object(S["a"])({id:"form.confirm-password.placeholder"})}))),["mobile","email"].includes(e)&&_.a.createElement(F,null,_.a.createElement(o["a"],{gutter:8},_.a.createElement(l["a"],{span:16},d("code",{rules:[{required:!0,message:Object(S["a"])({id:"validation.verification-code.required"})}]})(_.a.createElement(h["a"],{size:"large",placeholder:Object(S["a"])({id:"form.verification-code.placeholder"})}))),_.a.createElement(l["a"],{span:8},_.a.createElement(s["a"],{size:"large",disabled:g,className:P.a.getCaptcha,onClick:function(){return t.onGetCaptcha(e)}},g?"".concat(g," s"):Object(S["a"])({id:"app.register.get-verification-code"}))))),_.a.createElement(F,null,_.a.createElement(s["a"],{size:"large",loading:n,className:P.a.submit,type:"primary",htmlType:"submit"},Object(S["a"])({id:"app.register.register"})),_.a.createElement(x["a"],{className:P.a.login,to:"/User/Login"},Object(S["a"])({id:"app.register.sign-in"}))))},q=p.length>1;return _.a.createElement("div",{className:P.a.main,style:q?{backgroundColor:"white",padding:"16px 16px 16px 0",borderRadius:4,width:520}:void 0},!q&&k(null===(a=p[0])||void 0===a?void 0:a.type),q&&_.a.createElement(b["a"],{defaultActiveKey:u,activeKey:E,onChange:function(e){return t.setState({activeKey:e})},tabPosition:"left"},p.map((function(e){return _.a.createElement(V,{tab:e.title,key:e.type,disabled:28===e},E===e.type&&_.a.createElement("div",{style:{position:"relative"}},k(e.type)))}))))}}]),t}(E["Component"]))||n)||n);a["default"]=L}.call(this,t("LvDl"))}}]);