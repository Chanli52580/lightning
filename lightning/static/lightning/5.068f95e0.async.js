(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"15/o":function(t,e,n){t.exports={"ant-affix":"ant-affix"}},"1YHl":function(t,e,n){"use strict";n("cIOH"),n("15/o")},D96n:function(t,e,n){"use strict";(function(t){n("1YHl");var o=n("VNzZ"),i=(n("IzEo"),n("bx4M")),a=n("k1fw"),r=n("tJVT"),l=n("q1tI"),c=n.n(l),f=n("wd/R"),s=n.n(f),u=n("Hx5s"),d=n("sMR+"),p=n("C2ml"),v=n("mmaM"),h=n("pjZx"),b=n("jfUH");function m(t,e){var n=Object(l["useMemo"])((function(){if(t)return[];for(var n=[],o=function(){var e=a[i];l=Object(r["a"])(e,2);var o=l[0],c=l[1],f=t.find((function(t){return t.name===o}));if("datetime"===f.type){var u="YYYY/MM/DD",d=c.split(","),p=Object(r["a"])(d,2),v=p[0],h=p[1];n.push({field:o,value:[s()(v,u).toISOString(),s()(h,u).toISOString()],operator:"between"})}else n.push({field:o,value:c,operator:"="})},i=0,a=Object.entries(e);i<a.length;i++){var l;o()}return n}),[e]);return n}var y=function(){var e=Object(b["jb"])(),n=e.model,o=e.view,i=Object(b["pb"])(),a=Object(b["S"])(),r=Object(b["db"])(),c=r.query,f=Object(b["Z"])(),s=Object(l["useMemo"])((function(){return t.isEmpty(i)||t.isEmpty(a)}),[i,a]),u=i[n],d=m(null===u||void 0===u?void 0:u.fields,c),p=a[n],v=p||{},h=v.displayInTree;Object(l["useEffect"])((function(){var t;if(!s){var e=null===p||void 0===p||null===(t=p.display)||void 0===t?void 0:t.filter((function(t){return(null===t||void 0===t?void 0:t.summary)||(null===t||void 0===t?void 0:t.mergeRow)}));if(null!==e&&void 0!==e&&e.length){var i=e.map((function(t){return t.name})).map((function(t){return t.replace(".","__")}));f({type:"content/fetchAll",payload:{model:n,filters:d,extra:{view:o},orderBy:i}})}else f(h?{type:"content/fetchAll",payload:{model:n,filters:d,extra:{view:o}}}:{type:"content/fetch",payload:{model:n,filters:d,page:1,size:50,extra:{view:o}}});f({type:"content/statistics",payload:{model:n,filters:d,extra:{view:o}}})}}),[s,n,o,d,h])},g=function(t,e){var n=Object(b["qb"])((function(t){var e=t.content.data;return e})),o=e?"".concat(t,"#").concat(e):t;return n[o]?n[o]:{list:[],pagination:{}}},O=function(){y();var e=Object(b["hb"])(),n=Object(b["ib"])(),r=Object(b["jb"])(),f=r.model,s=r.view,m=g(f,s),O=Object(l["useMemo"])((function(){if(m.pagination){var t={showTotal:function(t){return"\u5171".concat(t,"\u6761\u6570\u636e")}};return n||(t.showSizeChanger=!1,t.showQuickJumper=!1),Object(a["a"])(Object(a["a"])({},m),{},{pagination:Object(a["a"])(Object(a["a"])({},m.pagination),t)})}return m}),[m,e,n]),j=Object(b["eb"])(f,"list",s),x=Object(b["fb"])(f),w=Object(b["pb"])(),T=Object(b["Z"])(),E=Object(b["qb"])((function(t){var e=t.loading;return e.effects["content/fetch"]||e.effects["content/fetchAll"]})),P=!0===j.displayInTree,S=!0===j.displayInSort,N=w[f]?w[f].displayName:"",A=j.display,z=void 0===A?[Object(b["K"])(f)]:A,I=j.editable,k=j.modalForm,B=void 0===k||k,F=j.actions,M=j.listStyle,C=j.exportable,U=j.sortable,D=j.tableActions,H=j.sortKey,L=j.modalDetail,R=j.inlineActions,K=j.maxInlineActions,q=j.filter,Y=j.listTitle,J=void 0===Y?"".concat(N,"\u5217\u8868"):Y,V=j.searchFields,Z=j.tableProps,Q=void 0===Z?{}:Z,W=Object(d["a"])(f);return t.isEmpty(w)||!x?c.a.createElement(i["a"],{loading:!0}):c.a.createElement(u["b"],{title:J,key:f},c.a.createElement(p["a"],null,N),c.a.createElement(i["a"],{style:e?{margin:-24}:void 0},x.includes("view")?c.a.createElement(W,{searchFields:V,tableActions:D,data:O,loading:E,model:f,display:z,editable:I||[],inlineActions:R,maxInlineActions:K,modalForm:B,actions:F,listStyle:M,displayInTree:P,displayInSort:S,sortKey:H,exportable:C,sortable:U,modalDetail:L,filter:q,fetch:function(e){var n=Object(a["a"])(Object(a["a"])({},e),{},{expandFields:Object(v["getExpandFields"])(f,"display",Object(a["a"])(Object(a["a"])({},j),z&&{display:z}))});return T({type:"content/statistics",payload:{model:f,filters:e.filters,extra:{view:s}}}),T(P?{type:"content/fetchAll",payload:Object(a["a"])(Object(a["a"])({model:f},t.omit(n,["page","size"])),{},{extra:{view:s}})}:{type:"content/fetch",payload:Object(a["a"])(Object(a["a"])({model:f},n),{},{extra:{view:s}})})},onExport:function(t){var e=t.filters,n=t.exportKey;return T({type:"content/download",payload:{model:f,filters:e,exportKey:n}})},renderSearchBar:function(t){return c.a.createElement(o["a"],{style:{position:"relative"},offsetTop:24},t,c.a.createElement("div",{style:{position:"absolute",right:-24,left:-24,bottom:-24,top:-24,borderBottom:"1px solid #f0f0f0",backgroundColor:"white",zIndex:-1}}))},renderTable:function(t){return c.a.createElement("div",{style:e?{marginLeft:-16,marginRight:-16}:{}},t)},tableProps:Q}):c.a.createElement(h["a"],null)))};e["a"]=Object(b["vb"])(O)}).call(this,n("LvDl"))},VNzZ:function(t,e,n){"use strict";var o=n("wx14"),i=n("rePB"),a=n("1OyB"),r=n("vuIU"),l=n("Ji7U"),c=n("LK+K"),f=n("U8pU"),s=n("q1tI"),u=n("TSYQ"),d=n.n(u),p=n("bT9E"),v=n("t23M"),h=n("H84U"),b=n("KQm4"),m=n("wgJM");function y(t){var e,n=function(n){return function(){e=null,t.apply(void 0,Object(b["a"])(n))}},o=function(){if(null==e){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];e=Object(m["a"])(n(o))}};return o.cancel=function(){return m["a"].cancel(e)},o}function g(){return function(t,e,n){var o=n.value,i=!1;return{configurable:!0,get:function(){if(i||this===t.prototype||this.hasOwnProperty(e))return o;var n=y(o.bind(this));return i=!0,Object.defineProperty(this,e,{value:n,configurable:!0,writable:!0}),i=!1,n}}}}var O=n("zT1h");function j(t){return t!==window?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function x(t,e,n){if(void 0!==n&&e.top>t.top-n)return n+e.top}function w(t,e,n){if(void 0!==n&&e.bottom<t.bottom+n){var o=window.innerHeight-e.bottom;return n+o}}var T=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],E=[];function P(t,e){if(t){var n=E.find((function(e){return e.target===t}));n?n.affixList.push(e):(n={target:t,affixList:[e],eventHandlers:{}},E.push(n),T.forEach((function(e){n.eventHandlers[e]=Object(O["a"])(t,e,(function(){n.affixList.forEach((function(t){t.lazyUpdatePosition()}))}))})))}}function S(t){var e=E.find((function(e){var n=e.affixList.some((function(e){return e===t}));return n&&(e.affixList=e.affixList.filter((function(e){return e!==t}))),n}));e&&0===e.affixList.length&&(E=E.filter((function(t){return t!==e})),T.forEach((function(t){var n=e.eventHandlers[t];n&&n.remove&&n.remove()})))}var N,A=function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"===typeof Reflect?"undefined":Object(f["a"])(Reflect))&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};function z(){return"undefined"!==typeof window?window:null}(function(t){t[t["None"]=0]="None",t[t["Prepare"]=1]="Prepare"})(N||(N={}));var I=function(t){Object(l["a"])(n,t);var e=Object(c["a"])(n);function n(){var t;return Object(a["a"])(this,n),t=e.apply(this,arguments),t.state={status:N.None,lastAffix:!1,prevTarget:null},t.getOffsetTop=function(){var e=t.props.offsetBottom,n=t.props.offsetTop;return void 0===e&&void 0===n&&(n=0),n},t.getOffsetBottom=function(){return t.props.offsetBottom},t.savePlaceholderNode=function(e){t.placeholderNode=e},t.saveFixedNode=function(e){t.fixedNode=e},t.measure=function(){var e=t.state,n=e.status,o=e.lastAffix,i=t.props.onChange,a=t.getTargetFunc();if(n===N.Prepare&&t.fixedNode&&t.placeholderNode&&a){var r=t.getOffsetTop(),l=t.getOffsetBottom(),c=a();if(c){var f={status:N.None},s=j(c),u=j(t.placeholderNode),d=x(u,s,r),p=w(u,s,l);void 0!==d?(f.affixStyle={position:"fixed",top:d,width:u.width,height:u.height},f.placeholderStyle={width:u.width,height:u.height}):void 0!==p&&(f.affixStyle={position:"fixed",bottom:p,width:u.width,height:u.height},f.placeholderStyle={width:u.width,height:u.height}),f.lastAffix=!!f.affixStyle,i&&o!==f.lastAffix&&i(f.lastAffix),t.setState(f)}}},t.prepareMeasure=function(){t.setState({status:N.Prepare,affixStyle:void 0,placeholderStyle:void 0})},t.render=function(){var e=t.context.getPrefixCls,n=t.state,a=n.affixStyle,r=n.placeholderStyle,l=t.props,c=l.prefixCls,f=l.children,u=d()(Object(i["a"])({},e("affix",c),a)),h=Object(p["a"])(t.props,["prefixCls","offsetTop","offsetBottom","target","onChange"]);return s["createElement"](v["a"],{onResize:function(){t.updatePosition()}},s["createElement"]("div",Object(o["a"])({},h,{ref:t.savePlaceholderNode}),a&&s["createElement"]("div",{style:r,"aria-hidden":"true"}),s["createElement"]("div",{className:u,ref:t.saveFixedNode,style:a},s["createElement"](v["a"],{onResize:function(){t.updatePosition()}},f))))},t}return Object(r["a"])(n,[{key:"getTargetFunc",value:function(){var t=this.context.getTargetContainer,e=this.props.target;return void 0!==e?e:t||z}},{key:"componentDidMount",value:function(){var t=this,e=this.getTargetFunc();e&&(this.timeout=setTimeout((function(){P(e(),t),t.updatePosition()})))}},{key:"componentDidUpdate",value:function(t){var e=this.state.prevTarget,n=this.getTargetFunc(),o=null;n&&(o=n()||null),e!==o&&(S(this),o&&(P(o,this),this.updatePosition()),this.setState({prevTarget:o})),t.offsetTop===this.props.offsetTop&&t.offsetBottom===this.props.offsetBottom||this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),S(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var t=this.getTargetFunc(),e=this.state.affixStyle;if(t&&e){var n=this.getOffsetTop(),o=this.getOffsetBottom(),i=t();if(i&&this.placeholderNode){var a=j(i),r=j(this.placeholderNode),l=x(r,a,n),c=w(r,a,o);if(void 0!==l&&e.top===l||void 0!==c&&e.bottom===c)return}}this.prepareMeasure()}}]),n}(s["Component"]);I.contextType=h["b"],A([g()],I.prototype,"updatePosition",null),A([g()],I.prototype,"lazyUpdatePosition",null);e["a"]=I},zrVq:function(t,e,n){"use strict";n.r(e);var o,i=n("fWQN"),a=n("mtLc"),r=n("yKVA"),l=n("879j"),c=n("q1tI"),f=n.n(c),s=n("Ty5D"),u=n("D96n"),d=n("7gdK"),p=Object(s["n"])(o=function(t){Object(r["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return Object(a["a"])(n,[{key:"render",value:function(){var t=this.props.match.params.model;return f.a.createElement(f.a.Fragment,null,f.a.createElement(u["a"],this.props),f.a.createElement(d["a"],{key:t,model:t}))}}]),n}(c["Component"]))||o;e["default"]=p}}]);