(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{Xjaj:function(e,t,n){"use strict";var r=n("g09b"),u=n("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=r(n("2Taf")),i=r(n("vZ4D")),o=r(n("MhPg")),c=r(n("l4Ni")),d=r(n("ujKo")),f=u(n("q1tI")),s=r(n("bKel")),p=r(n("rIRf")),h=r(n("7gdK"));function v(e){var t=m();return function(){var n,r=(0,d.default)(e);if(t){var u=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var y=(0,s.default)(a=function(e){(0,o.default)(n,e);var t=v(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props.match.params.model;return f.default.createElement(f.default.Fragment,null,f.default.createElement(p.default,this.props),f.default.createElement(h.default,{key:e,model:e,defaultTab:"form"}))}}]),n}(f.Component))||a,g=y;t.default=g},rIRf:function(e,t,n){"use strict";var r=n("g09b"),u=n("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,i=r(n("jehZ")),o=r(n("eHn4")),c=r(n("2Taf")),d=r(n("vZ4D")),f=r(n("MhPg")),s=r(n("l4Ni")),p=r(n("ujKo")),h=u(n("q1tI")),v=r(n("bKel")),m=r(n("3a4m")),y=n("Hg0r"),g=n("Hx5s"),F=n("xNPh"),k=n("jfUH"),R=r(n("pjZx")),b=n("C2ml");function j(e){var t=P();return function(){var n,r=(0,p.default)(e);if(t){var u=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var D=(a=(0,y.connect)(function(e){var t=e.content,n=t.schemas,r=t.data,u=e.user.currentUser;return{schemas:n,currentUser:u,data:r}}),(0,v.default)(l=a(l=function(e){(0,f.default)(n,e);var t=j(n);function n(){return(0,c.default)(this,n),t.apply(this,arguments)}return(0,d.default)(n,[{key:"render",value:function(){var e,t,n,r=this,u=this.props,a=u.match.params,l=a.id,c=a.pId,d=u.location.query.redirect_path,f=u.schemas,s=u.data,p=this.permissions,v=this.model;if(!p)return null;var y=0!==l&&l,j=f[v]||{},P=y?"\u7f16\u8f91":"\u65b0\u5efa",D=y&&j.titleField&&(null===s||void 0===s?void 0:null===(e=s[v])||void 0===e?void 0:null===(t=e.detail)||void 0===t?void 0:null===(n=t[l])||void 0===n?void 0:n[j.titleField]),E="".concat(P).concat(j.displayName||""),w=(0,F.getForm)(v),_=this.pField&&{hiddenFields:(0,o.default)({},this.pField.refField,c),hiddenvalues:(0,o.default)({},this.pField.refField,c)},x=function(e){return r.pField?m.default.goBack():m.default.push(d?d.replace("{id}",(0,k.pk)(e,v)):"/content/".concat(v))};return h.default.createElement(g.PageHeaderWrapper,{title:D||E,onBack:m.default.goBack},h.default.createElement(b.DocumentTitle,null,D?"".concat(D," - "):"",E),y&&p.includes("change")||!y&&p.includes("add")?h.default.createElement(w,(0,i.default)({onCreate:x,onUpdate:x,model:v,objectid:l},_)):h.default.createElement(R.default,null))}},{key:"pField",get:function(){var e,t=this.props,n=t.match.params,r=n.pModel,u=n.ref,a=t.schemas;return r&&(null===(e=a[r])||void 0===e?void 0:e.fields.find(function(e){return e.name===u}))}},{key:"model",get:function(){var e,t,n=this.props.match.params.model;return null!==(e=null===(t=this.pField)||void 0===t?void 0:t.ref)&&void 0!==e?e:n}},{key:"permissions",get:function(){var e=this.props.currentUser.permissions,t=this.model;return e?e.filter(function(e){return e.endsWith(t)}).map(function(e){return e.split("_")[0]}):null}}]),n}(h.PureComponent))||l)||l),E=D;t.default=E}}]);