(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{Xjaj:function(e,t,n){"use strict";n.r(t);var a,r,i,c=n("fWQN"),l=n("mtLc"),o=n("yKVA"),s=n("879j"),d=n("q1tI"),u=n.n(d),p=n("Ty5D"),m=n("0Owb"),h=n("jrin"),f=n("RLxJ"),j=n("/MKj"),v=n("Hx5s"),b=n("xNPh"),O=n("jfUH"),y=n("pjZx"),F=n("C2ml"),k=(a=Object(j["c"])((function(e){var t=e.content,n=t.schemas,a=t.data,r=e.user.currentUser;return{schemas:n,currentUser:r,data:a}})),Object(p["n"])(r=a(r=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(l["a"])(n,[{key:"pField",get:function(){var e,t=this.props,n=t.match.params,a=n.pModel,r=n.ref,i=t.schemas;return a&&(null===(e=i[a])||void 0===e?void 0:e.fields.find((function(e){return e.name===r})))}},{key:"model",get:function(){var e,t,n=this.props.match.params.model;return null!==(e=null===(t=this.pField)||void 0===t?void 0:t.ref)&&void 0!==e?e:n}},{key:"permissions",get:function(){var e=this.props.currentUser.permissions,t=this.model;return e?e.filter((function(e){return e.endsWith(t)})).map((function(e){return e.split("_")[0]})):null}},{key:"render",value:function(){var e,t,n,a=this,r=this.props,i=r.match.params,c=i.id,l=i.pId,o=r.location.query.redirect_path,s=r.schemas,d=r.data,p=this.permissions,j=this.model;if(!p)return null;var k=0!==c&&c,g=s[j]||{},w=k?"\u7f16\u8f91":"\u65b0\u5efa",E=k&&g.titleField&&(null===d||void 0===d||null===(e=d[j])||void 0===e||null===(t=e.detail)||void 0===t||null===(n=t[c])||void 0===n?void 0:n[g.titleField]),U="".concat(w).concat(g.displayName||""),x=Object(b["a"])(j),C=this.pField&&{hiddenFields:Object(h["a"])({},this.pField.refField,l),hiddenvalues:Object(h["a"])({},this.pField.refField,l)},J=function(e){return a.pField?f["a"].goBack():f["a"].push(o?o.replace("{id}",Object(O["J"])(e,j)):"/content/".concat(j))};return u.a.createElement(v["b"],{title:E||U,onBack:f["a"].goBack},u.a.createElement(F["a"],null,E?"".concat(E," - "):"",U),k&&p.includes("change")||!k&&p.includes("add")?u.a.createElement(x,Object(m["a"])({onCreate:J,onUpdate:J,model:j,objectid:c},C)):u.a.createElement(y["a"],null))}}]),n}(d["PureComponent"]))||r)||r),g=k,w=n("7gdK"),E=Object(p["n"])(i=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(l["a"])(n,[{key:"render",value:function(){var e=this.props.match.params.model;return u.a.createElement(u.a.Fragment,null,u.a.createElement(g,this.props),u.a.createElement(w["a"],{key:e,model:e,defaultTab:"form"}))}}]),n}(d["Component"]))||i;t["default"]=E}}]);